## 内部类详解

   为什么要使用内部类：每个内部类都能够对立的继承一个接口实现，所以无论外围类是否已经继承了某个接口的实现，对于内部类都没有影响。解决了多继承的问题。

   内部类的特性：
     1、内部类可以用多个实例，每个实例都有自己的状态信息，并且与其他的外围对象的信息相互独立
     2、在单个外围类中，可以让多个内部类以不同的方式实现统一个接口，或者继承同一个类。
     3、创建内部类对象的时候并不依赖于外围类的对象的创建。
     4、内部类并没有令人迷惑的is－a关系，他就是一个独立的实体。
     5、内部类提供了更好的封装，除了该外围类，其他的类都不能访问。

  内部类直接在类的内部进行声明，可以声明为各种权限；
  内部类自动拥有对其外围类的所有成员的访问权，如果内部类和外部类成员的名字完全相同，在内部类方法中要访问外部类成员，则需要使用：外部类名.this.外部成员名；
  使用外部类的时候必须使用外部类对象来创建内部类对象，而不是直接去new一个，参照：外部对象名.new  内部类构造方法。

  成员内部类：是最普通的内部类，他是外围类的一个成员，所以它是可以无限制的访问外围类的所有成员的方法和属性。但外围类要访问内部类的成员属性和方法则需要通过内部类实例来访问。成员内部类不存在任何的static变量和方法；成员内部类必须依附于外围类，只有先创建了外围类，才能创建成员内部类。

  局部内部类：创建其外围类的方法和属性的内部，其作用于也尽在于此。

  匿名内部类：匿名内部类没有构造方法，没有方位修饰符；匿名内部类访问方法的形参的时候，必须将形参定义为final类型；匿名内部类仅能被使用一次，创建匿名内部类的时候，编译器会立即创建一个不内部类的实例，用完就消失。

  静态内部类：它不能访问外部类的非静态成员和方法，创建静态内部类对象的时候，也不需要外部类 对象，直接可以：new 外部类名.内部类构造方法。

  接口内部类：

### 内部类的定义，以及为什么需要内部类

在类的内部定义的类就是内部类。
使用内部类在很多情况下可以代码很多方便性。
1、可以模拟多继承的问题，每个内部类都可以继承一个实现。
2、内部类可以有多个实例，每个实例都有自己的状态信息，并且与其外围类的对象的信息相互独立。
3、内部类提供了更好的封装，除了该外围类，其他类都不能访问。

### 内部类的种类

#### 普通内部类

在类的内部定义的类，可以访问外部类的所有的成员，持有外部类的实例。
#### 匿名内部类

没有名字的内部类，不能有自己的构造器。
必须继承一个父类(可以是抽象类)或者一个接口，并且只能是一个。
#### 局部内部类

方法局部的定义的内部类，可以有自己的构造器。使用局部内部类，而不是用匿名内部类，主要是因为想要多次使用该局部内部类。
只能用abstract和final 修饰局部内部类。

#### 嵌套类

静态内部类。它不持有外部类的引用，可以定义静态方法和静态成员。

### 普通内部类的一些问题

* 匿名内部类有没有构造器函数。

  没有，因为匿名内部类没有名字。
  
* 匿名内部类引用局部变量的限制。

  必须使用final。 
  
* 权限访问修饰符对内部类的修饰。 

    匿名内部类和局部内部类没有防伪修饰符，其它的都是可以有的。
    
* 匿名内部类中为什么可以用new。

  因为这个匿名内部类是已经存在，而不是才创建的内部类。
  
* 内部类为什么能够访问外部类的私有变量。

    内部类可以当做一个类的内部成员，或者一个内的普通方法。
    
* 普通内部类和匿名内部类的初始化的区别

* 内部类是否可以覆盖

   不可以覆盖。但是可以在子类的内部类继承父类的内部类
   
* 内部类是否可以定义静态成员。
   
     不可以。因为内部类属于外部类层面上，它必须引用一个外部类的对象。而静态成员成员都属于类成员的。
     
* 内部类如何方位外部类实例

       outclass.this
       
* 为什么局部内部类和匿名内部类只能访问局部final的变量

   因为局部内部类和匿名内部类，是在一个方法或者一个局部作用域中的类，当方法执行结束后，在方法定义的局部变量的生命周期就结束了，而定义在方法中的局部类对象的生命周期可能还没有结束，所以在局部类中继承访问局部变量就变成不可能了，Java采用拷贝的手段来解决这个问题。如果局部变量的值在编译期间就确定，则直接在局部内部类中创建一个拷贝，如果局部变量的值无法在编译期间确定，则通过构造器传参的方式对拷贝进行初始化赋值。所以在局部变量的变量是方法中变量的一份拷贝，两者不是一个变量，如果在局部内部类中改变变量的值，就可能造成不一致性，所有Java编译期要求将局部内部类使用的参数或者方法内变量定义为final。
    
### 嵌套类的一些问题


























































