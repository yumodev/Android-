[TOC]
### 13.1 概述
### 13.2 线程安全。
#### 13.2.1 Java语言中咸亨安全。
五类操作数据：不可变、绝对线程安全、相对线程安全、线程兼容、线程对立。

#### 13.2.2 线程安全的实现方法。
1、互斥同步
临界区、互斥量、信号量
2、非阻塞同步。

3、无同步方案
可重入代码
线程本地存储。

#### 13.3 锁优化

#### 13.3.1 自旋锁与自适应自选。

让线程执行一个忙循环，这就是自旋锁。
自旋锁避免了线程的切换、但是要占用处理器时间。自旋锁的默认次数是10.

#### 13.3.2 锁消除。

#### 13.3.3 锁粗化。

#### 13.3.4 轻量级锁

#### 13.3.5 偏向锁

偏向第一个获得它的线程，在接下来的执行过程中，该锁没有被其他线程获取，则持有偏向锁的线程，将永远不需要再进行同步。





